var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,g,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var c=a[e];if(g.call(b,c,e,a))return{i:e,v:c}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,g,b){a!=Array.prototype&&a!=Object.prototype&&(a[g]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,g,b,d){if(g){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];g=g(d);g!=d&&null!=g&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
(function(a){function g(a){a||(a="44.80,-93.16,5");var c=a.split(",");if(3!=c.length)throw'Invalid lat/lng/zoom: "'+a+'"';var e=parseFloat(c[0]),f=parseFloat(c[1]);c=parseInt(c[2]);if(isNaN(e)||-90>e||90<e||isNaN(f)||-180>f||180<f||3>c||30<c)throw'Invalid lat/lng/zoom: "'+a+'"';return{center:new google.maps.LatLng(e,f),zoom:c}}var b={init:function(e){if(!("google"in window&&"maps"in google))throw"Google maps API did not complete loading";var c=a(this);c.data("gmap",e);c.addClass("ui-gmap").html('<div class="ui-gmap-canvas"></div>');
var b=g(c.attr("data-initial-view"));b.mapTypeId=google.maps.MapTypeId.ROADMAP;b.zoomControlOptions={position:google.maps.ControlPosition.LEFT_CENTER};var f=c.find(".ui-gmap-canvas"),d=new google.maps.Map(f.get(0),b);c.data("gmap.map",d);e.autoAddMarkers&&a(this).gmap("addMarkersFromDOM");f.resize(function(a){google.maps.event.trigger(d,"resize")})},addMarkersFromDOM:function(){var e=[];a("[data-marker-info]").each(function(){try{var c=a(this).attr("data-marker-info");c||(c="44.80,-93.16,5");var b=
c.split(",");if(2!=b.length)throw'Invalid lat/lng: "'+c+'"';var f=parseFloat(b[0]),d=parseFloat(b[1]);if(isNaN(f)||-90>f||90<f||isNaN(d)||-180>d||180<d)throw'Invalid lat/lng: "'+c+'"';var g=new google.maps.LatLng(f,d);e.push({position:g,title:a(this).find(".ui-gmap-marker-title").html(),content:a(this).find(".ui-gmap-marker-info").andSelf().filter(".ui-gmap-marker-info").clone().get(0)})}catch(h){console.log(h)}});var c=a(this).data("gmap"),b=a(this).data("gmap.map"),f=a(this).gmap("addMarkers",e);
if(!f.isEmpty()){var d=f.toSpan();1E-4>d.lat()||1E-4>d.lng()?(b.setCenter(f.getCenter()),b.setZoom(c.zoomForSingleMarker)):b.fitBounds(f)}},addMarkers:function(b){a(this).data("gmap");var c=a(this).data("gmap.map"),e=new google.maps.LatLngBounds,f=new InfoBox({boxStyle:{border:"1px solid black",background:"white",width:"220px",padding:"5px"},closeBoxURL:"http://maps.google.com/mapfiles/close.gif"}),d=new google.maps.LatLng("44.80","-93.16");new google.maps.Marker({map:c,position:d,icon:"http://labs.google.com/ridefinder/images/mm_20_green.png"});
e.extend(d);a.each(b,function(b){b=new google.maps.Marker({map:c,position:this.position,title:this.title,icon:"http://maps.google.com/mapfiles/marker.png"});var d=this.content;d&&google.maps.event.addListener(b,"click",function(b,c,d){return function(){f.setContent(a(d).html());f.open(b,c)}}(c,b,d));e.extend(this.position)});return e}},d={autoAddMarkers:!0,zoomForSingleMarker:15,infoWindowConfig:{maxWidth:175}};a.fn.gmap=function(){if(0==arguments.length){var e=a.extend({},d);a(this).each(function(){b.init.call(this,
e)});return this}if(1==arguments.length&&a.isPlainObject(arguments[0]))return e=a.extend({},d,arguments[0]),a(this).each(function(){b.init.call(this,e)}),this;var c=b[arguments[0]];if(a.isFunction(c)){for(var g=[],f=1;f<arguments.length;f++)g.push(arguments[f]);return c.apply(this,g)}alert("Function "+arguments[0]+" is not supported by the gmap plugin.");return this}})(jQuery);

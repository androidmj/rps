$.tablesorter.addWidget({id:"select",init:function(a){a.config.select=$.extend({},this.defaults,a.config.select);var c=$("tbody tr",a);$(c).unbind("mousedown.tablesorter.select").bind("mousedown.tablesorter.select",{table:a},$.proxy(this,"onClick"));$(a).unbind("update.tablesorter.select").bind("update.tablesorter.select",$.proxy(this,"update"));$.browser.msie&&$(c).unbind("selectstart.tablesorter.select").bind("selectstart.tablesorter.select",function(){return!1})},onClick:function(a){var c=$(a.data.table)[0],
b=$(a.currentTarget)[0],e=!1,f=$("tbody tr",c);1==a.which?(a.ctrlKey||($(b).siblings(".selected").removeClass("selected"),a.shiftKey&&(e=!0,b=$(f).index($(b)),c.config.select.prevId<b?(a=c.config.select.prevId,b+=1):(a=b,b=c.config.select.prevId+1),b=$(f).slice(a,b))),$(b).toggleClass("selected")):$(b).hasClass("selected")||($(b).siblings(".selected").removeClass("selected"),$(b).addClass("selected"));e||(c.config.select.prevId=$(f).index($(b)));$(c).trigger("select.tablesorter.select",[{table:$(c),
selected:$("tbody tr.selected",c),elem:b}]);c.config.select.selection=$.map($("tbody tr.selected",c),function(a,b){return $($("input",a)[0]).val()})},update:function(a){var c=a.target;a=$.map($("tbody tr",c),function(a,e){return 0>$.inArray($($("input",a)[0]).val(),c.config.select.selection)?null:a});$(a).addClass("selected")},format:function(a){this.init(a)}});$.expr[":"].icontains=function(a,c,b,e){return 0<=(a.textContent||a.innerText||jQuery(a).text()||"").toLowerCase().indexOf(b[3].toLowerCase())};
$.tablesorter.addWidget({id:"filter",defaults:{title:"Search...",container:!1},init:function(a){var c=this;a.config.filter=$.extend({},this.defaults,a.config.filter);var b=a.config.filter.title,e=$(a).attr("id"),f="tsFilter_"+e,d=[];d.push('<input class="tablesorter tsFilter');b&&d.push(" empty");d.push('"');d.push(' id="'+f+'"');d.push(' type="text"');d.push(' name="'+e+'"');b&&(d.push(' value="'+b+'"'),d.push(' title="'+b+'"'));d.push(" />");var g=$("input#"+f);0==$(g).length&&(a.config.filter.container?
$(a.config.filter.container).html(d.join("")):$(a).before(d.join("")));g=$("input#"+f);b&&$(g).unbind("focusout.tablesorter.filter").unbind("focusin.tablesorter.filter").bind("focusout.tablesorter.filter",function(a){""==$(this).val()&&($(this).addClass("empty"),$(this).val(b))}).bind("focusin.tablesorter.filter",function(a){$(this).hasClass("empty")&&($(this).removeClass("empty"),$(this).val(""))});$(g).unbind("keyup.tablesorter.filter").bind("keyup.tablesorter.filter",function(b){$(this).hasClass("empty")||
c.filter(a,$(this).val())});$(a).unbind("update.tablesorter.filter").bind("update.tablesorter.filter",function(b){$(g).hasClass("empty")||c.filter(a,$(g).val())})},filter:function(a,c){$("tbody tr:hidden",a).show();$('tbody tr:not(:icontains("'+c+'"))',a).hide()},format:function(a){this.init(a)}});

/*
 tablesorter pager plugin
 updated 1/4/2013
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(d,h,f){d instanceof String&&(d=String(d));for(var p=d.length,m=0;m<p;m++){var q=d[m];if(h.call(f,q,m,d))return{i:m,v:q}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,h,f){d!=Array.prototype&&d!=Object.prototype&&(d[h]=f.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,h,f,p){if(h){f=$jscomp.global;d=d.split(".");for(p=0;p<d.length-1;p++){var m=d[p];m in f||(f[m]={});f=f[m]}d=d[d.length-1];p=f[d];h=h(p);h!=p&&null!=h&&$jscomp.defineProperty(f,d,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(d,f){return $jscomp.findInternal(this,d,f).v}},"es6","es3");
(function(d){d.extend({tablesorterPager:new function(){this.defaults={container:null,ajaxUrl:null,ajaxProcessing:function(c){return[0,[],null]},output:"{startRow} to {endRow} of {totalRows} rows",updateArrows:!0,page:0,size:10,fixedHeight:!1,removeRows:!1,cssFirst:".first",cssPrev:".prev",cssNext:".next",cssLast:".last",cssGoto:".gotoPage",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssErrorRow:"tablesorter-errorRow",cssDisabled:"disabled",totalRows:0,totalPages:0,filteredRows:0,filteredPages:0};
var h=this,f=function(c,a){var b=c.cssDisabled;a=!!a;var e=Math.min(c.totalPages,c.filteredPages);c.updateArrows&&(d(c.cssFirst+","+c.cssPrev,c.container)[a||0===c.page?"addClass":"removeClass"](b),d(c.cssNext+","+c.cssLast,c.container)[a||c.page===e-1?"addClass":"removeClass"](b))},p=function(c,a){var b=d(c).hasClass("hasFilters")&&!a.ajaxUrl;a.filteredRows=b?c.config.$tbodies.children("tr:not(.filtered,.remove-me)").length:a.totalRows;a.filteredPages=b?Math.ceil(a.filteredRows/a.size):a.totalPages;
if(0<Math.min(a.totalPages,a.filteredPages)){var e=a.size*a.page>a.filteredRows;a.startRow=e?1:a.size*a.page+1;a.page=e?0:a.page;a.endRow=Math.min(a.filteredRows,a.totalRows,a.size*(a.page+1));var k=d(a.cssPageDisplay,a.container);b=a.output.replace(/\{(page|filteredRows|filteredPages|totalPages|startRow|endRow|totalRows)\}/gi,function(b){return{"{page}":a.page+1,"{filteredRows}":a.filteredRows,"{filteredPages}":a.filteredPages,"{totalPages}":a.totalPages,"{startRow}":a.startRow,"{endRow}":a.endRow,
"{totalRows}":a.totalRows}[b]});if(k[0]&&(k["INPUT"===k[0].tagName?"val":"html"](b),d(a.cssGoto,a.container).length)){e="";k=Math.min(a.totalPages,a.filteredPages);for(b=1;b<=k;b++)e+="<option>"+b+"</option>";d(a.cssGoto,a.container).html(e).val(a.page+1)}}f(a);a.initialized&&d(c).trigger("pagerComplete",a)},m=function(c,a){var b,e=d(c.tBodies[0]);a.fixedHeight&&(e.find("tr.pagerSavedHeightSpacer").remove(),b=d.data(c,"pagerSavedHeight"))&&(b-=e.height(),5<b&&d.data(c,"pagerLastSize")===a.size&&e.children("tr:visible").length<
a.size&&e.append('<tr class="pagerSavedHeightSpacer '+c.config.selectorRemove.replace(".","")+'" style="height:'+b+'px;"></tr>'))},q=function(c,a){var b=d(c.tBodies[0]);b.find("tr.pagerSavedHeightSpacer").remove();d.data(c,"pagerSavedHeight",b.height());m(c,a);d.data(c,"pagerLastSize",a.size)},t=function(c,a){if(!a.ajaxUrl){c=d(c.tBodies).children("tr:not(."+c.config.cssChildRow+")");var b=c.length,e=a.page*a.size,k=e+a.size,g=0;for(a=0;a<b;a++)/filtered/.test(c[a].className)||(c[a].style.display=
g>=e&&g<k?"":"none",g++)}},v=function(c,a){a.size=parseInt(d(a.cssPageSize,a.container).find("option[selected]").val(),10)||a.size;d.data(c,"pagerLastSize",a.size);f(a);a.removeRows||(t(c,a),d(c).bind("sortEnd.pager filterEnd.pager",function(){t(c,a)}))},x=function(c,a,b,e){if("function"===typeof b.ajaxProcessing){var k,g=d(a),n=a.config,f=b.$tbodies,h=g.find("thead th").length,l="",E='<tr class="'+b.cssErrorRow+" "+n.selectorRemove.replace(".","")+'"><td style="text-align: center;" colspan="'+h+
'">'+(e?e.message+" ("+e.name+")":"No rows found")+"</td></tr>",z=b.ajaxProcessing(c)||[0,[]],q=z[1]||[],t=q.length,u=z[2];if(0<t)for(c=0;c<t;c++){l+="<tr>";for(k=0;k<q[c].length;k++)l+="<td>"+q[c][k]+"</td>";l+="</tr>"}if(u&&u.length===h){var r=g.hasClass("hasStickyHeaders");var w=g.find("."+(n.widgetOptions&&n.widgetOptions.stickyHeaders||"tablesorter-stickyheader"));var v=g.find("tfoot tr:first").children();g.find("th."+n.cssHeader).each(function(a){var b=d(this);if(b.find("."+n.cssIcon).length){var c=
b.find("."+n.cssIcon).clone(!0);b.find(".tablesorter-header-inner").html(u[a]).append(c);r&&w.length&&(c=w.find("th").eq(a).find("."+n.cssIcon).clone(!0),w.find("th").eq(a).find(".tablesorter-header-inner").html(u[a]).append(c))}else b.find(".tablesorter-header-inner").html(u[a]),w.find("th").eq(a).find(".tablesorter-header-inner").html(u[a]);v.eq(a).html(u[a])})}g.find("thead tr."+b.cssErrorRow).remove();e?g.find("thead").append(E):f.html(l);n.showProcessing&&d.tablesorter.isProcessing(a);g.trigger("update");
b.totalRows=z[0]||0;b.totalPages=Math.ceil(b.totalRows/b.size);p(a,b);m(a,b);b.initialized&&g.trigger("pagerChange",b)}b.initialized||(b.initialized=!0,d(a).trigger("pagerInitialized",b))},G=function(c,a){var b=F(c,a),e=c.config;""!==b&&(e.showProcessing&&d.tablesorter.isProcessing(c,!0),d(document).bind("ajaxError.pager",function(e,g,n,f){n.url===b&&(x(null,c,a,f),d(document).unbind("ajaxError.pager"))}),d.getJSON(b,function(b){x(b,c,a);d(document).unbind("ajaxError.pager")}))},F=function(c,a){var b=
a.ajaxUrl?a.ajaxUrl.replace(/\{page\}/g,a.page).replace(/\{size\}/g,a.size):"";c=c.config.sortList;a=a.currentFilters||[];var e=b.match(/\{sortList[\s+]?:[\s+]?([^}]*)\}/),k=b.match(/\{filterList[\s+]?:[\s+]?([^}]*)\}/),g=[];e&&(e=e[1],d.each(c,function(a,b){g.push(e+"["+b[0]+"]="+b[1])}),b=b.replace(/\{sortList[\s+]?:[\s+]?([^\}]*)\}/g,g.length?g.join("&"):e));k&&(k=k[1],d.each(a,function(a,b){b&&g.push(k+"["+a+"]="+encodeURIComponent(b))}),b=b.replace(/\{filterList[\s+]?:[\s+]?([^\}]*)\}/g,g.length?
g.join("&"):k));return b},r=function(c,a,b){b.isDisabled=!1;var e,k=document.createDocumentFragment(),g=a.length;var f=b.page*b.size;var h=f+b.size;if(!(1>g)){b.initialized&&d(c).trigger("pagerChange",b);if(b.removeRows){h>a.length&&(h=a.length);d(c.tBodies[0]).addClass("tablesorter-hidden");for(d.tablesorter.clearTableBody(c);f<h;f++){var l=a[f];g=l.length;for(e=0;e<g;e++)k.appendChild(l[e])}c.tBodies[0].appendChild(k);d(c.tBodies[0]).removeClass("tablesorter-hidden")}else t(c,b);b.page>=b.totalPages&&
A(c,b);p(c,b);b.isDisabled||m(c,b);d(c).trigger("applyWidgets")}},B=function(c,a){a.ajax?f(a,!0):(a.isDisabled=!0,d.data(c,"pagerLastPage",a.page),d.data(c,"pagerLastSize",a.size),a.page=0,a.size=a.totalRows,a.totalPages=1,d("tr.pagerSavedHeightSpacer",c.tBodies[0]).remove(),r(c,c.config.rowsCopy,a));d(a.container).find(a.cssPageSize+","+a.cssGoto).each(function(){d(this).addClass(a.cssDisabled)[0].disabled=!0})},l=function(c,a){if(!a.isDisabled){var b=Math.min(a.totalPages,a.filteredPages);if(0>
a.page||a.page>b-1)a.page=0;a.ajax?G(c,a):a.ajax||r(c,c.config.rowsCopy,a);d.data(c,"pagerLastPage",a.page);d.data(c,"pagerUpdateTriggered",!0);a.initialized&&d(c).trigger("pageMoved",a)}},C=function(c,a,b){b.size=a;d.data(c,"pagerLastPage",b.page);d.data(c,"pagerLastSize",b.size);b.totalPages=Math.ceil(b.totalRows/b.size);l(c,b)},H=function(c,a){a.page=0;l(c,a)},A=function(c,a){a.page=Math.min(a.totalPages,a.filteredPages)-1;l(c,a)},I=function(c,a){a.page++;a.page>=Math.min(a.totalPages,a.filteredPages)-
1&&(a.page=Math.min(a.totalPages,a.filteredPages)-1);l(c,a)},J=function(c,a){a.page--;0>=a.page&&(a.page=0);l(c,a)},D=function(c,a,b){var e=d(a.cssPageSize,a.container).removeClass(a.cssDisabled).removeAttr("disabled");d(a.container).find(a.cssGoto).removeClass(a.cssDisabled).removeAttr("disabled");a.isDisabled=!1;a.page=d.data(c,"pagerLastPage")||a.page||0;a.size=d.data(c,"pagerLastSize")||parseInt(e.find("option[selected]").val(),10)||a.size;e.val(a.size);a.totalPages=Math.ceil(Math.min(a.totalPages,
a.filteredPages)/a.size);b&&(d(c).trigger("update"),C(c,a.size,a),v(c,a),m(c,a))};h.appender=function(c,a){var b=c.config.pager;b.ajax||(c.config.rowsCopy=a,b.totalRows=a.length,b.size=d.data(c,"pagerLastSize")||b.size,b.totalPages=Math.ceil(b.totalRows/b.size),r(c,a,b))};h.construct=function(c){return this.each(function(){if(this.config&&this.hasInitialized){var a=this.config,b=a.pager=d.extend({},d.tablesorterPager.defaults,c),e=this,f=e.config,g=d(e),n=d(b.container).addClass("tablesorter-pager").show();
a.appender=h.appender;g.unbind("filterStart.pager filterEnd.pager sortEnd.pager disable.pager enable.pager destroy.pager update.pager").bind("filterStart.pager",function(a,c){d.data(e,"pagerUpdateTriggered",!1);b.currentFilters=c}).bind("filterEnd.pager sortEnd.pager",function(a){d.data(e,"pagerUpdateTriggered")?d.data(e,"pagerUpdateTriggered",!1):("filterEnd"===a.type&&(b.page=0),p(e,b),l(e,b),m(e,b))}).bind("disable.pager",function(){B(e,b)}).bind("enable.pager",function(){D(e,b,!0)}).bind("destroy.pager",
function(){B(e,b);d(b.container).hide();e.config.appender=null;d(e).unbind("destroy.pager sortEnd.pager filterEnd.pager enable.pager disable.pager")}).bind("update.pager",function(){t(e,b)});var r=[b.cssFirst,b.cssPrev,b.cssNext,b.cssLast];var x=[H,J,I,A];n.find(r.join(",")).unbind("click.pager").bind("click.pager",function(a){var c=d(this),f=r.length;if(!c.hasClass(b.cssDisabled))for(a=0;a<f;a++)if(c.is(r[a])){x[a](e,b);break}return!1});n.find(b.cssGoto).length&&(n.find(b.cssGoto).unbind("change").bind("change",
function(){b.page=d(this).val()-1;l(e,b)}),p(e,b));var y=n.find(b.cssPageSize);y.length&&y.unbind("change.pager").bind("change.pager",function(){y.val(d(this).val());d(this).hasClass(b.cssDisabled)||(C(e,parseInt(d(this).val(),10),b),q(e,b));return!1});b.initialized=!1;g.trigger("pagerBeforeInitialized",b);D(e,b,!1);"string"===typeof b.ajaxUrl?(b.ajax=!0,f.widgetOptions.filter_serversideFiltering=!0,f.serverSideSorting=!0,l(e,b)):(b.ajax=!1,d(this).trigger("appendCache",!0),v(e,b));q(e,b);b.ajax||
(b.initialized=!0,d(e).trigger("pagerInitialized",b))}})}}});d.fn.extend({tablesorterPager:d.tablesorterPager.construct})})(jQuery);

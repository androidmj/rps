(function(m){function B(a){p(this,a);this.assertions=[];this.testNumber=++B.count}function N(){d.autorun=!0;d.currentModule&&q("moduleDone",e,{name:d.currentModule,failed:d.moduleStats.bad,passed:d.moduleStats.all-d.moduleStats.bad,total:d.moduleStats.all});var a=n("qunit-banner");var b=n("qunit-tests");var c=+new r-d.started,h=d.stats.all-d.stats.bad,g=["Tests completed in ",c," milliseconds.<br/><span class='passed'>",h,"</span> assertions of <span class='total'>",d.stats.all,"</span> passed, <span class='failed'>",
d.stats.bad,"</span> failed."].join("");a&&(a.className=d.stats.bad?"qunit-fail":"qunit-pass");b&&(n("qunit-testresult").innerHTML=g);d.altertitle&&"undefined"!==typeof document&&document.title&&(document.title=[d.stats.bad?"\u2716":"\u2714",document.title.replace(/^[\u2714\u2716] /i,"")].join(" "));if(d.reorder&&u.sessionStorage&&0===d.stats.bad)for(a=0;a<sessionStorage.length;a++)b=sessionStorage.key(a++),0===b.indexOf("qunit-test-")&&sessionStorage.removeItem(b);m.scrollTo&&m.scrollTo(0,0);q("done",
e,{failed:d.stats.bad,passed:h,total:d.stats.all,runtime:c})}function F(a){var b=d.filter&&d.filter.toLowerCase(),c=d.module&&d.module.toLowerCase(),e=(a.module+": "+a.testName).toLowerCase();if(a.callback&&a.callback.validTest===F)return delete a.callback.validTest,!0;if(d.testNumber)return a.testNumber===d.testNumber;if(c&&(!a.module||a.module.toLowerCase()!==c))return!1;if(!b)return!0;(a="!"!==b.charAt(0))||(b=b.slice(1));return-1!==e.indexOf(b)?a:!a}function C(a,b){b=void 0===b?3:b;var c;if(a.stacktrace)return a.stacktrace.split("\n")[b+
3];if(a.stack){a=a.stack.split("\n");/^error$/i.test(a[0])&&a.shift();if(H){var d=[];for(c=b;c<a.length&&-1===a[c].indexOf(H);c++)d.push(a[c]);if(d.length)return d.join("\n")}return a[b]}if(a.sourceURL)return/qunit.js$/.test(a.sourceURL)?void 0:a.sourceURL+":"+a.line}function v(a){try{throw Error();}catch(b){return C(b,a)}}function t(a){return a?(a+"").replace(/[&<>]/g,function(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";default:return a}}):""}function y(a,b){d.queue.push(a);
d.autorun&&!d.blocking&&D(b)}function D(a){function b(){D(a)}var c=(new r).getTime();for(d.depth=d.depth?d.depth+1:1;d.queue.length&&!d.blocking;)if(!u.setTimeout||0>=d.updateRate||(new r).getTime()-c<d.updateRate)d.queue.shift()();else{m.setTimeout(b,13);break}d.depth--;!a||d.blocking||d.queue.length||0!==d.depth||N()}function G(){d.pollution=[];if(d.noglobals)for(var a in m)E.call(m,a)&&!/^qunit-test-output/.test(a)&&d.pollution.push(a)}function I(a,b){var c,d=a.slice();for(a=0;a<d.length;a++)for(c=
0;c<b.length;c++)if(d[a]===b[c]){d.splice(a,1);a--;break}return d}function p(a,b){for(var c in b)if(void 0===b[c])delete a[c];else if("constructor"!==c||a!==m)a[c]=b[c];return a}function w(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):c()}function J(a,b){-1<(" "+a.className+" ").indexOf(" "+b+" ")||(a.className+=(a.className?" ":"")+b)}function O(a,b){for(var c=" "+a.className+" ";-1<c.indexOf(" "+b+" ");)c=c.replace(" "+b+" "," ");a.className=m.jQuery?
jQuery.trim(c):c.trim?c.trim():c}function n(a){return!("undefined"===typeof document||!document||!document.getElementById)&&document.getElementById(a)}function x(a){return function(b){d[a].push(b)}}function q(a,b,c){if(e.hasOwnProperty(a))e[a].call(b,c);else{var h=d[a];for(a=0;a<h.length;a++)h[a].call(b,c)}}var P=0,H=(v(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,""),K=Object.prototype.toString,E=Object.prototype.hasOwnProperty,r=m.Date;var z="undefined"!==typeof m.setTimeout;try{sessionStorage.setItem("qunit-test-string",
"qunit-test-string");sessionStorage.removeItem("qunit-test-string");var L=!0}catch(a){L=!1}var u={setTimeout:z,sessionStorage:L},A=function(a){var b,c=e.is("array",a)?[]:{};for(b in a)if(E.call(a,b)){var d=a[b];c[b]=d===Object(d)?A(d):d}return c};B.count=0;B.prototype={init:function(){var a=n("qunit-tests");if(a){var b=document.createElement("strong");b.innerHTML=this.name;var c=document.createElement("a");c.innerHTML="Rerun";c.href=e.url({testNumber:this.testNumber});var d=document.createElement("li");
d.appendChild(b);d.appendChild(c);d.className="running";d.id=this.id="qunit-test-output"+P++;a.appendChild(d)}},setup:function(){this.module!==d.previousModule?(d.previousModule&&q("moduleDone",e,{name:d.previousModule,failed:d.moduleStats.bad,passed:d.moduleStats.all-d.moduleStats.bad,total:d.moduleStats.all}),d.previousModule=this.module,d.moduleStats={all:0,bad:0},q("moduleStart",e,{name:this.module})):d.autorun&&q("moduleStart",e,{name:this.module});d.current=this;this.testEnvironment=p({setup:function(){},
teardown:function(){}},this.moduleTestEnvironment);this.started=+new r;q("testStart",e,{name:this.testName,module:this.module});e.current_testEnvironment=this.testEnvironment;d.pollution||G();if(d.notrycatch)this.testEnvironment.setup.call(this.testEnvironment);else try{this.testEnvironment.setup.call(this.testEnvironment)}catch(a){e.pushFailure("Setup failed on "+this.testName+": "+(a.message||a),C(a,1))}},run:function(){d.current=this;var a=n("qunit-testresult");a&&(a.innerHTML="Running: <br/>"+
this.name);this.async&&e.stop();this.callbackStarted=+new r;if(d.notrycatch)this.callback.call(this.testEnvironment,e.assert),this.callbackRuntime=+new r-this.callbackStarted;else try{this.callback.call(this.testEnvironment,e.assert),this.callbackRuntime=+new r-this.callbackStarted}catch(b){this.callbackRuntime=+new r-this.callbackStarted,e.pushFailure("Died on test #"+(this.assertions.length+1)+" "+this.stack+": "+(b.message||b),C(b,0)),G(),d.blocking&&e.start()}},teardown:function(){d.current=this;
if(d.notrycatch)"undefined"===typeof this.callbackRuntime&&(this.callbackRuntime=+new r-this.callbackStarted),this.testEnvironment.teardown.call(this.testEnvironment);else{try{this.testEnvironment.teardown.call(this.testEnvironment)}catch(c){e.pushFailure("Teardown failed on "+this.testName+": "+(c.message||c),C(c,1))}var a=d.pollution;G();var b=I(d.pollution,a);0<b.length&&e.pushFailure("Introduced global variable(s): "+b.join(", "));b=I(a,d.pollution);0<b.length&&e.pushFailure("Deleted global variable(s): "+
b.join(", "))}},finish:function(){d.current=this;d.requireExpects&&null===this.expected?e.pushFailure("Expected number of assertions to be defined, but expect() was not called.",this.stack):null!==this.expected&&this.expected!==this.assertions.length?e.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack):null!==this.expected||this.assertions.length||e.pushFailure("Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.",
this.stack);var a,b,c=this,h=b=0;var g=n("qunit-tests");this.runtime=+new r-this.started;d.stats.all+=this.assertions.length;d.moduleStats.all+=this.assertions.length;if(g){var f=document.createElement("ol");f.className="qunit-assert-list";for(a=0;a<this.assertions.length;a++){var k=this.assertions[a];g=document.createElement("li");g.className=k.result?"pass":"fail";g.innerHTML=k.message||(k.result?"okay":"failed");f.appendChild(g);k.result?b++:(h++,d.stats.bad++,d.moduleStats.bad++)}e.config.reorder&&
u.sessionStorage&&(h?sessionStorage.setItem("qunit-test-"+this.module+"-"+this.testName,h):sessionStorage.removeItem("qunit-test-"+this.module+"-"+this.testName));0===h&&J(f,"qunit-collapsed");var l=document.createElement("strong");l.innerHTML=this.name+" <b class='counts'>(<b class='failed'>"+h+"</b>, <b class='passed'>"+b+"</b>, "+this.assertions.length+")</b>";w(l,"click",function(){var a=l.parentNode.lastChild;(-1<(" "+a.className+" ").indexOf(" qunit-collapsed ")?O:J)(a,"qunit-collapsed")});
w(l,"dblclick",function(a){a=a&&a.target?a.target:m.event.srcElement;if("span"===a.nodeName.toLowerCase()||"b"===a.nodeName.toLowerCase())a=a.parentNode;m.location&&"strong"===a.nodeName.toLowerCase()&&(m.location=e.url({testNumber:c.testNumber}))});a=document.createElement("span");a.className="runtime";a.innerHTML=this.runtime+" ms";g=n(this.id);g.className=h?"fail":"pass";g.removeChild(g.firstChild);b=g.firstChild;g.appendChild(l);g.appendChild(b);g.appendChild(a);g.appendChild(f)}else for(a=0;a<
this.assertions.length;a++)this.assertions[a].result||(h++,d.stats.bad++,d.moduleStats.bad++);q("testDone",e,{name:this.testName,module:this.module,failed:h,passed:this.assertions.length-h,total:this.assertions.length,duration:this.runtime});e.reset();d.current=void 0},queue:function(){function a(){y(function(){b.setup()});y(function(){b.run()});y(function(){b.teardown()});y(function(){b.finish()})}var b=this;y(function(){b.init()});e.config.reorder&&u.sessionStorage&&+sessionStorage.getItem("qunit-test-"+
this.module+"-"+this.testName)?a():y(a,!0)}};var e={module:function(a,b){d.currentModule=a;d.currentModuleTestEnvironment=b;d.modules[a]=!0},asyncTest:function(a,b,c){2===arguments.length&&(c=b,b=null);e.test(a,b,c,!0)},test:function(a,b,c,e){var g="<span class='test-name'>"+t(a)+"</span>";2===arguments.length&&(c=b,b=null);d.currentModule&&(g="<span class='module-name'>"+d.currentModule+"</span>: "+g);g=new B({name:g,testName:a,expected:b,async:e,callback:c,module:d.currentModule,moduleTestEnvironment:d.currentModuleTestEnvironment,
stack:v(2)});F(g)&&g.queue()},expect:function(a){if(1===arguments.length)d.current.expected=a;else return d.current.expected},start:function(a){d.semaphore-=a||1;0<d.semaphore||(0>d.semaphore?(d.semaphore=0,e.pushFailure("Called start() while already started (QUnit.config.semaphore was 0 already)",null,v(2))):u.setTimeout?m.setTimeout(function(){0<d.semaphore||(d.timeout&&clearTimeout(d.timeout),d.blocking=!1,D(!0))},13):(d.blocking=!1,D(!0)))},stop:function(a){d.semaphore+=a||1;d.blocking=!0;d.testTimeout&&
u.setTimeout&&(clearTimeout(d.timeout),d.timeout=m.setTimeout(function(){e.ok(!1,"Test timed out");d.semaphore=1;e.start()},d.testTimeout))}};z={ok:function(a,b){if(!d.current)throw Error("ok() assertion outside test context, was "+v(2));a=!!a;var c,h={module:d.current.module,name:d.current.testName,result:a,message:b};b=t(b||(a?"okay":"failed"));b="<span class='test-message'>"+b+"</span>";!a&&(c=v(2))&&(h.source=c,b+="<table><tr class='test-source'><th>Source: </th><td><pre>"+t(c)+"</pre></td></tr></table>");
q("log",e,h);d.current.assertions.push({result:a,message:b})},equal:function(a,b,c){e.push(b==a,a,b,c)},notEqual:function(a,b,c){e.push(b!=a,a,b,c)},propEqual:function(a,b,c){a=A(a);b=A(b);e.push(e.equiv(a,b),a,b,c)},notPropEqual:function(a,b,c){a=A(a);b=A(b);e.push(!e.equiv(a,b),a,b,c)},deepEqual:function(a,b,c){e.push(e.equiv(a,b),a,b,c)},notDeepEqual:function(a,b,c){e.push(!e.equiv(a,b),a,b,c)},strictEqual:function(a,b,c){e.push(b===a,a,b,c)},notStrictEqual:function(a,b,c){e.push(b!==a,a,b,c)},
"throws":function(a,b,c){var h=b,g=!1;"string"===typeof b&&(c=b,b=null);d.current.ignoreGlobalErrors=!0;try{a.call(d.current.testEnvironment)}catch(k){var f=k}d.current.ignoreGlobalErrors=!1;f?(b?"regexp"===e.objectType(b)?g=b.test(f):f instanceof b?g=!0:!0===b.call({},f)&&(h=null,g=!0):(g=!0,h=null),e.push(g,f,h,c)):e.pushFailure(c,null,"No exception was thrown.")}};p(e,z);e.raises=z["throws"];e.equals=function(){e.push(!1,!1,!1,"QUnit.equals has been deprecated since 2009 (e88049a0), use QUnit.equal instead")};
e.same=function(){e.push(!1,!1,!1,"QUnit.same has been deprecated since 2009 (e88049a0), use QUnit.deepEqual instead")};(function(){function a(){}a.prototype=e;e=new a;e.constructor=a})();var d={queue:[],blocking:!0,hidepassed:!1,reorder:!0,altertitle:!0,requireExpects:!1,urlConfig:[{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the `window` object. Stored as query-strings."},{id:"notrycatch",label:"No try-catch",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings."}],
modules:{},begin:[],done:[],log:[],testStart:[],testDone:[],moduleStart:[],moduleDone:[]};"undefined"===typeof exports&&(p(m,e),m.QUnit=e);(function(){var a,b=m.location||{search:"",protocol:"file:"},c=b.search.slice(1).split("&"),h=c.length,g={};if(c[0])for(a=0;a<h;a++){var f=c[a].split("=");f[0]=decodeURIComponent(f[0]);f[1]=f[1]?decodeURIComponent(f[1]):!0;g[f[0]]=f[1]}e.urlParams=g;d.filter=g.filter;d.module=g.module;d.testNumber=parseInt(g.testNumber,10)||null;e.isLocal="file:"===b.protocol})();
p(e,{assert:z,config:d,init:function(){p(d,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new r,updateRate:1E3,blocking:!1,autostart:!0,autorun:!1,filter:"",queue:[],semaphore:1});var a;if(a=n("qunit"))a.innerHTML="<h1 id='qunit-header'>"+t(document.title)+"</h1><h2 id='qunit-banner'></h2><div id='qunit-testrunner-toolbar'></div><h2 id='qunit-userAgent'></h2><ol id='qunit-tests'></ol>";a=n("qunit-tests");var b=n("qunit-banner");var c=n("qunit-testresult");a&&(a.innerHTML="");b&&(b.className=
"");c&&c.parentNode.removeChild(c);a&&(c=document.createElement("p"),c.id="qunit-testresult",c.className="result",a.parentNode.insertBefore(c,a),c.innerHTML="Running...<br/>&nbsp;")},reset:function(){var a=n("qunit-fixture");a&&(a.innerHTML=d.fixture)},triggerEvent:function(a,b,c){document.createEvent?(c=document.createEvent("MouseEvents"),c.initMouseEvent(b,!0,!0,a.ownerDocument.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(c)):a.fireEvent&&a.fireEvent("on"+b)},is:function(a,b){return e.objectType(b)===
a},objectType:function(a){if("undefined"===typeof a)return"undefined";if(null===a)return"null";var b=K.call(a).match(/^\[object\s(.*)\]$/);b=b&&b[1]||"";switch(b){case "Number":return isNaN(a)?"nan":"number";case "String":case "Boolean":case "Array":case "Date":case "RegExp":case "Function":return b.toLowerCase()}if("object"===typeof a)return"object"},push:function(a,b,c,h){if(!d.current)throw Error("assertion outside test context, was "+v());var g={module:d.current.module,name:d.current.testName,
result:a,message:h,actual:b,expected:c};h=t(h)||(a?"okay":"failed");h="<span class='test-message'>"+h+"</span>";if(!a){c=t(e.jsDump.parse(c));b=t(e.jsDump.parse(b));h+="<table><tr class='test-expected'><th>Expected: </th><td><pre>"+c+"</pre></td></tr>";b!==c&&(h=h+("<tr class='test-actual'><th>Result: </th><td><pre>"+b+"</pre></td></tr>")+("<tr class='test-diff'><th>Diff: </th><td><pre>"+e.diff(c,b)+"</pre></td></tr>"));if(b=v())g.source=b,h+="<tr class='test-source'><th>Source: </th><td><pre>"+t(b)+
"</pre></td></tr>";h+="</table>"}q("log",e,g);d.current.assertions.push({result:!!a,message:h})},pushFailure:function(a,b,c){if(!d.current)throw Error("pushFailure() assertion outside test context, was "+v(2));var h={module:d.current.module,name:d.current.testName,result:!1,message:a};a=t(a)||"error";a="<span class='test-message'>"+a+"</span><table>";c&&(a+="<tr class='test-actual'><th>Result: </th><td><pre>"+t(c)+"</pre></td></tr>");b&&(h.source=b,a+="<tr class='test-source'><th>Source: </th><td><pre>"+
t(b)+"</pre></td></tr>");a+="</table>";q("log",e,h);d.current.assertions.push({result:!1,message:a})},url:function(a){a=p(p({},e.urlParams),a);var b,c="?";for(b in a)E.call(a,b)&&(c+=encodeURIComponent(b)+"="+encodeURIComponent(a[b])+"&");return m.location.pathname+c.slice(0,-1)},extend:p,id:n,addEvent:w});p(e.constructor.prototype,{begin:x("begin"),done:x("done"),log:x("log"),testStart:x("testStart"),testDone:x("testDone"),moduleStart:x("moduleStart"),moduleDone:x("moduleDone")});if("undefined"===
typeof document||"complete"===document.readyState)d.autorun=!0;e.load=function(){q("begin",e,{});var a=0;var b="",c="";var h=p({},d);e.init();p(d,h);d.blocking=!1;var g=d.urlConfig.length;for(h=0;h<g;h++){var f=d.urlConfig[h];"string"===typeof f&&(f={id:f,label:f,tooltip:"[no tooltip available]"});d[f.id]=e.urlParams[f.id];c+="<input id='qunit-urlconfig-"+f.id+"' name='"+f.id+"' type='checkbox'"+(d[f.id]?" checked='checked'":"")+" title='"+f.tooltip+"'><label for='qunit-urlconfig-"+f.id+"' title='"+
f.tooltip+"'>"+f.label+"</label>"}b+="<label for='qunit-modulefilter'>Module: </label><select id='qunit-modulefilter' name='modulefilter'><option value='' "+(void 0===d.module?"selected":"")+">< All Modules ></option>";for(h in d.modules)d.modules.hasOwnProperty(h)&&(a+=1,b+="<option value='"+encodeURIComponent(h)+"' "+(d.module===h?"selected":"")+">"+h+"</option>");b+="</select>";if(h=n("qunit-userAgent"))h.innerHTML=navigator.userAgent;if(h=n("qunit-header"))h.innerHTML="<a href='"+e.url({filter:void 0,
module:void 0,testNumber:void 0})+"'>"+h.innerHTML+"</a> ";if(h=n("qunit-testrunner-toolbar")){var k=document.createElement("input");k.type="checkbox";k.id="qunit-filter-pass";w(k,"click",function(){var a=document.getElementById("qunit-tests");if(k.checked)a.className+=" hidepass";else{var b=" "+a.className.replace(/[\n\t\r]/g," ")+" ";a.className=b.replace(/ hidepass /," ")}u.sessionStorage&&(k.checked?sessionStorage.setItem("qunit-filter-passed-tests","true"):sessionStorage.removeItem("qunit-filter-passed-tests"))});
if(d.hidepassed||u.sessionStorage&&sessionStorage.getItem("qunit-filter-passed-tests"))k.checked=!0,g=document.getElementById("qunit-tests"),g.className+=" hidepass";h.appendChild(k);g=document.createElement("label");g.setAttribute("for","qunit-filter-pass");g.setAttribute("title","Only show tests and assertons that fail. Stored in sessionStorage.");g.innerHTML="Hide passed tests";h.appendChild(g);g=document.createElement("span");g.innerHTML=c;w(g,"change",function(a){var b={};b[a.target.name]=a.target.checked?
!0:void 0;m.location=e.url(b)});h.appendChild(g);if(1<a){var l=document.createElement("span");l.setAttribute("id","qunit-modulefilter-container");l.innerHTML=b;w(l,"change",function(){var a=l.getElementsByTagName("select")[0];a=decodeURIComponent(a.options[a.selectedIndex].value);m.location=e.url({module:""===a?void 0:a})});h.appendChild(l)}}if(a=n("qunit-fixture"))d.fixture=a.innerHTML;d.autostart&&e.start()};w(m,"load",e.load);var M=m.onerror;m.onerror=function(a,b,c){var d=!1;M&&(d=M(a,b,c));if(!0!==
d){if(e.config.current){if(e.config.current.ignoreGlobalErrors)return!0;e.pushFailure(a,b+":"+c)}else e.test("global failure",p(function(){e.pushFailure(a,b+":"+c)},{validTest:F}));return!1}return d};e.equiv=function(){var a,b=[],c=[],d=Object.getPrototypeOf||function(a){return a.__proto__},g=function(){function f(a,b){return a instanceof b.constructor||b instanceof a.constructor?b==a:b===a}return{string:f,"boolean":f,number:f,"null":f,undefined:f,nan:function(a){return isNaN(a)},date:function(a,
b){return"date"===e.objectType(a)&&b.valueOf()===a.valueOf()},regexp:function(a,b){return"regexp"===e.objectType(a)&&b.source===a.source&&b.global===a.global&&b.ignoreCase===a.ignoreCase&&b.multiline===a.multiline&&b.sticky===a.sticky},"function":function(){var a=b[b.length-1];return a!==Object&&"undefined"!==typeof a},array:function(b,d){var k,f;if("array"!==e.objectType(b))return!1;var g=d.length;if(g!==b.length)return!1;c.push(d);for(k=0;k<g;k++){var l=!1;for(f=0;f<c.length;f++)c[f]===d[k]&&(l=
!0);if(!l&&!a(d[k],b[k]))return c.pop(),!1}c.pop();return!0},object:function(k,e){var f,g,l=!0,h=[],m=[];if(e.constructor!==k.constructor&&!(null===d(e)&&d(k)===Object.prototype||null===d(k)&&d(e)===Object.prototype))return!1;b.push(e.constructor);c.push(e);for(f in e){var n=!1;for(g=0;g<c.length;g++)c[g]===e[f]&&(n=!0);h.push(f);if(!n&&!a(e[f],k[f])){l=!1;break}}b.pop();c.pop();for(f in k)m.push(f);return l&&a(h.sort(),m.sort())}}}();return a=function(){var a=[].slice.apply(arguments);if(2>a.length)return!0;
var b=a[0],c=a[1];b===c?b=!0:null===b||null===c||"undefined"===typeof b||"undefined"===typeof c||e.objectType(b)!==e.objectType(c)?b=!1:(c=[c,b],b=(b=e.objectType(b))?"function"===e.objectType(g[b])?g[b].apply(g,c):g[b]:void 0);return b&&arguments.callee.apply(this,a.splice(1,a.length-1))}}();e.jsDump=function(){function a(a){return'"'+a.toString().replace(/"/g,'\\"')+'"'}function b(a){return a+""}function c(a,b,c){var d=f.separator(),e=f.indent(),k=f.indent(1);b.join&&(b=b.join(","+d+k));return b?
[a,k+b,e+c].join(d):a+c}function d(a,b){var d=a.length,e=Array(d);for(this.up();d--;)e[d]=this.parse(a[d],void 0,b);this.down();return c("[",e,"]")}var g=/^function (\w+)/,f={parse:function(a,b,c){c=c||[];var d=this.parsers[b||this.typeOf(a)];b=typeof d;a:{var e=c;if(e.indexOf)e=e.indexOf(a);else{for(var f=0,k=e.length;f<k;f++)if(e[f]===a){e=f;break a}e=-1}}return-1!==e?"recursion("+(e-c.length)+")":"function"===b?(c.push(a),a=d.call(this,a,c),c.pop(),a):"string"===b?d:this.parsers.error},typeOf:function(a){return null===
a?"null":"undefined"===typeof a?"undefined":e.is("regexp",a)?"regexp":e.is("date",a)?"date":e.is("function",a)?"function":"undefined"!==typeof a.document&&"undefined"===typeof a.nodeType?"window":9===a.nodeType?"document":a.nodeType?"node":"[object Array]"===K.call(a)||"number"===typeof a.length&&"undefined"!==typeof a.item&&(a.length?a.item(0)===a[0]:null===a.item(0)&&"undefined"===typeof a[0])?"array":a.constructor===Error.prototype.constructor?"error":typeof a},separator:function(){return this.multiline?
this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(a){if(!this.multiline)return"";var b=this.indentChar;this.HTML&&(b=b.replace(/\t/g,"   ").replace(/ /g,"&nbsp;"));return Array(this._depth_+(a||0)).join(b)},up:function(a){this._depth_+=a||1},down:function(a){this._depth_-=a||1},setParser:function(a,b){this.parsers[a]=b},quote:a,literal:b,join:c,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:function(a){return'Error("'+a.message+'")'},unknown:"[Unknown]","null":"null",
undefined:"undefined","function":function(a){var b="function",d="name"in a?a.name:(g.exec(a)||[])[1];d&&(b+=" "+d);b=[b+"( ",e.jsDump.parse(a,"functionArgs"),"){"].join("");return c(b,e.jsDump.parse(a,"functionCode"),"}")},array:d,nodelist:d,arguments:d,object:function(a,b){var d=[],f;e.jsDump.up();var g=[];for(h in a)g.push(h);g.sort();for(f=0;f<g.length;f++){var h=g[f];var k=a[h];d.push(e.jsDump.parse(h,"key")+": "+e.jsDump.parse(k,void 0,b))}e.jsDump.down();return c("{",d,"}")},node:function(a){var b,
c,d=e.jsDump.HTML?"&lt;":"<",f=e.jsDump.HTML?"&gt;":">",g=a.nodeName.toLowerCase(),h=d+g;for(b in e.jsDump.DOMAttrs)(c=a[e.jsDump.DOMAttrs[b]])&&(h+=" "+b+"="+e.jsDump.parse(c,"attribute"));return h+f+d+"/"+g+f},functionArgs:function(a){var b=a.length;if(!b)return"";for(a=Array(b);b--;)a[b]=String.fromCharCode(97+b);return" "+a.join(", ")+" "},key:a,functionCode:"[code]",attribute:a,string:a,date:a,regexp:b,number:b,"boolean":b},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"  ",
multiline:!0};return f}();e.diff=function(){return function(a,b){a=a.replace(/\s+$/,"");b=b.replace(/\s+$/,"");var c,d="",e=""===a?[]:a.split(/\s+/),f=""===b?[]:b.split(/\s+/),k={},l={};for(c=0;c<f.length;c++)null==k[f[c]]&&(k[f[c]]={rows:[],o:null}),k[f[c]].rows.push(c);for(c=0;c<e.length;c++)null==l[e[c]]&&(l[e[c]]={rows:[],n:null}),l[e[c]].rows.push(c);for(c in k)E.call(k,c)&&1===k[c].rows.length&&void 0!==l[c]&&1===l[c].rows.length&&(f[k[c].rows[0]]={text:f[k[c].rows[0]],row:l[c].rows[0]},e[l[c].rows[0]]=
{text:e[l[c].rows[0]],row:k[c].rows[0]});for(c=0;c<f.length-1;c++)null!=f[c].text&&null==f[c+1].text&&f[c].row+1<e.length&&null==e[f[c].row+1].text&&f[c+1]==e[f[c].row+1]&&(f[c+1]={text:f[c+1],row:f[c].row+1},e[f[c].row+1]={text:e[f[c].row+1],row:c+1});for(c=f.length-1;0<c;c--)null!=f[c].text&&null==f[c-1].text&&0<f[c].row&&null==e[f[c].row-1].text&&f[c-1]==e[f[c].row-1]&&(f[c-1]={text:f[c-1],row:f[c].row-1},e[f[c].row-1]={text:e[f[c].row-1],row:c-1});k=a.match(/\s+/g);l=b.match(/\s+/g);null==k?k=
[" "]:k.push(" ");null==l?l=[" "]:l.push(" ");if(0===f.length)for(a=0;a<e.length;a++)d+="<del>"+e[a]+k[a]+"</del>";else{if(null==f[0].text)for(b=0;b<e.length&&null==e[b].text;b++)d+="<del>"+e[b]+k[b]+"</del>";for(a=0;a<f.length;a++)if(null==f[a].text)d+="<ins>"+f[a]+l[a]+"</ins>";else{c="";for(b=f[a].row+1;b<e.length&&null==e[b].text;b++)c+="<del>"+e[b]+k[b]+"</del>";d+=" "+f[a].text+l[a]+c}}return d}}();"undefined"!==typeof exports&&p(exports,e)})(function(){return this}.call());
